{% extends 'ctf/base.html' %}
{% block content %}
    <div class="container">
        <div class="jumbotron" style="background-color:#002222; border :yellowgreen; border-style:  dashed dotted;">
            <h1 class="display-4">{{ challenge.name }}</h1>
            <hr class="my-4">
            {% if sponsor != Null %}
                <h2>This challenge sponsored by</h2>
                <img src="{{ sponsor.logo.url }}"width="70%"/>
            {% endif %}
            <p class="lead">{{ challenge.description }}<br>({{ challenge.points }} Points)</p>
            {% if challenge.link != "" %}
                <p><a href="{{ challenge.link }}" class="btn btn-secondary btn-lg" role="button" target="_blank">Get connection info</a></p>
            {% endif %}
            {% if sysadmin_url != "not a sysadmin chal" %}
                <a href="{{ sysadmin_url }}" class="btn btn-secondary btn-lg">Get connection info</a>
            {% endif %}
            {% if challenge.minio_file_id %}
                <p class="text-center"><a href="{% url 'ctf-download' challenge.category challenge.minio_file_id %}" class="btn btn-secondary btn-lg" role="button"
                                          target="_blank">Download File</a></p>
            {% endif %}

        </div>
        <hr class="my-4">
    </div>
    {% if messages %}
        {% for message in messages %}
            <div class="alert alert-{{ message.tags }}" role="alert">
                {{ message }}
            </div>
        {% endfor %}
    {% endif %}
    <div class="container">
        <div class="row">
            <div class="col-md-4">
                <h2>Submit Flag</h2>
                <form action="{% url 'submit-flag' challenge.id %}" method="post">
                    {% csrf_token %}
                    <div class="form-group">
                        <label for="flag">Challenge Flag</label>
                        <input type="text" class="form-control" id="flag" name="flag" aria-describedby="flagHelp"
                               placeholder="FLAG-{% verbatim %}{##########}{% endverbatim %}">
                    </div>
                    <button type="submit" class="btn btn-secondary btn-lg">Submit</button>
                </form>
            </div>
            <div class="col-md-4">&nbsp;</div>
            <div class="col-md-4">
                {% if hint != Null %}
                <h2>Hint</h2>
                    <p>{{hint}}</p>
                {% endif%}
               <!-- <p>Reminder: Viewing the hint reduces the number of points a challenge is worth.</p>-->
                <!--<p><a href="" class="btn btn-primary btn-lg">Show Hint</a></p>-->
                <form action="{% url 'reveal-hint' challenge.id %}" method="post" >
                    {% csrf_token %}
                    <input class="btn btn-secondary btn-lg" type="submit" value="Show Hint">
                </form>
            </div>
        </div>
    </div>
{% endblock %}